import{E as r}from"./Layout.astro_astro_type_script_index_0_lang.D0haerwi.js";import{g as t}from"./index.ODjX2MmM.js";import{D as l}from"./DrawSVGPlugin.CmyyfxBq.js";import{S as h}from"./ScrambleTextPlugin.hKY4Tz1c.js";import"./strings.CrAViUxe.js";t.registerPlugin(l,h);class g extends r{constructor(e,i,s,o){super(),this.main=i,this.app=s,this.gl=o,this.progress={value:0},this.scroll=this.app.scroll.lenis,this.alphabet="0123456789",this.delay=e,this.video=this.app.sizes.width>1024?this.gl.world.video.material:null,this.numsCols=[...this.main.querySelectorAll(".num_col")],this.nums=this.main.querySelectorAll(".num_item"),this.navBtns=[document.querySelector(".nav_burger"),document.querySelector(".nav_cta")],this.noLoader=window.location.hash==="#no-loader",this.noLoader?(t.set(this.main,{autoAlpha:1}),t.set(this.nums,{"--opacity":.15}),t.set(this.video.uniforms.uLoading,{value:1})):this.init()}init(){this.tl=t.timeline({defaults:{ease:"power3.inOut",duration:1},delay:this.delay,onStart:()=>this.trigger("pathStart")}),this.header=this.main.querySelector(".header"),this.tl.set(this.main,{autoAlpha:1}).to(this.navBtns,{opacity:1,stagger:.1},"<").fromTo(this.header,{"--show-video":0},{"--show-video":1},"<"),this.video&&this.tl.to(this.video.uniforms.uLoading,{value:1},this.delay+1.8),this.numsCols.forEach((e,i)=>{const s=e.querySelectorAll(".num_item");t.set(s,{"--opacity":.15},i*.1+this.delay);const o=e.querySelectorAll(".num_dot"),a=e.querySelectorAll(".num_text");this.tl.from(o,{opacity:0,duration:.8,stagger:{from:"end",each:.1},scale:3,y:-10},i*.1+this.delay).from(a,{opacity:0,duration:.8,stagger:{from:"end",each:.1}},"<0.4").from(a,{scrambleText:{text:"{original}",chars:this.alphabet},duration:2,stagger:{from:"end",each:.1}},"<-=0.5")})}}export{g as default};
